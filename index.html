<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Valentine</title>

<style>
  @media (max-width: 420px) {
  body { padding: 20px 12px; }
}

  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    background: radial-gradient(circle at top, #0f172a, #020617);
    color: #e5e7eb;
    text-align: center;
    padding: 40px 20px;
  }

  .page {
    display: none;
    max-width: 420px;
    margin: 0 auto;
  }

  .page.active {
    display: block;
  }

  h1 {
    margin-bottom: 10px;
  }

  p {
    opacity: 0.8;
  }

  button {
    display: block;
    width: 100%;
    padding: 14px;
    margin: 12px 0;
    font-size: 18px;
    border-radius: 999px;
    border: none;
    cursor: pointer;
  }

  .yes {
    background: #22c55e;
    color: #052e16;
  }

  .no {
    background: #dc2626;
    color: #fee2e2;
  }

  .neutral {
    background: #334155;
    color: #e5e7eb;
  }

  /* ===== WHEEL ===== */

  .wheel-container {
    margin: 40px auto;
    width: 260px;
    height: 260px;
    position: relative;
  }

  .pointer {
    position: absolute;
    top: -22px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 26px;
    z-index: 10;
  }

  .wheel {
    width: 260px;
    height: 260px;
    border-radius: 50%;
    background: conic-gradient(
      #dc2626 0deg 288deg,    /* NO 80% */
      #16a34a 288deg 360deg  /* YES 20% */
    );
    transition: transform 6.8s cubic-bezier(0.22, 0.61, 0.36, 1);
  }

  .result {
    margin-top: 25px;
    font-size: 22px;
    color: #4ade80;
    display: none;
  }

  .small {
    font-size: 12px;
    opacity: 0.55;
    margin-top: 8px;
  }

  /* YES glow animation */
@keyframes yesGlow {
  0%   { box-shadow: 0 0 0 rgba(34,197,94,0); }
  40%  { box-shadow: 0 0 30px rgba(34,197,94,0.9); }
  100% { box-shadow: 0 0 0 rgba(34,197,94,0); }
}

.yes.flash {
  animation: yesGlow 0.8s ease-out;
}

/* Excellent choice text */
.excellent {
  margin-top: 20px;
  font-size: 20px;
  color: #4ade80;
  opacity: 0;
  transition: opacity 0.3s ease;
}
.excellent.show {
  opacity: 1;
}



/* ===== FINAL BACKGROUND (shared) ===== */
.final-bg {
  min-height: 100vh;

  background:
    linear-gradient(rgba(15,23,42,0.65), rgba(2,6,23,0.85)),
    url("final.jpg") center / cover no-repeat;
  background-attachment: fixed;

  padding: 60px 20px;
  border-radius: 24px;

  animation: fadeInBg 1s ease;
}



@keyframes fadeInBg {
  from {
    opacity: 0;
    transform: scale(1.02);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}



@keyframes floatBg {
  0%   { background-position: center top; }
  50%  { background-position: center bottom; }
  100% { background-position: center top; }
}

#startOverlay {
  position: fixed;
  inset: 0;
  background:
    linear-gradient(rgba(15,23,42,0.65), rgba(2,6,23,0.75)),
    url("start.jpg") center / cover no-repeat;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}







</style>
</head>

<body>
<audio id="spinSound" src="spin.mp3" preload="auto"></audio>
<audio id="winSound" src="win.mp3" preload="auto"></audio>
<audio id="bgMusic" src="bg.mp3" preload="auto" loop></audio>
<audio id="yesSound" src="yes.mp3" preload="auto"></audio>


<div id="startOverlay">


  <button style="
    padding: 18px 36px;
    font-size: 20px;
    border-radius: 999px;
    border: none;
    background: #22c55e;
    color: #052e16;
    cursor: pointer;
  " onclick="startExperience()">
    Start ðŸ’š
  </button>
</div>

  
<!-- PAGE 1 -->
<div id="page1" class="page active">
  <h1>ðŸ’˜ Will you be my Valentine?</h1>
<button class="yes" onclick="startExperience(); yesEffect(this); goTo(2)">
  Yes ðŸ’š
</button>



<button class="no" onclick="startExperience(); goTo(3)">No ðŸ˜ˆ</button>



</div>

<!-- PAGE 2 (DIRECT YES) -->
<div id="page2" class="page final-bg">
  <h1>ðŸ’š Valentine confirmed.</h1>
  <p>You chose wisely.</p>
  <div id="excellentText" class="excellent">âœ¨ Excellent choice schatziiiii.</div>
</div>

<!-- PAGE 3 -->
<div id="page3" class="page">
  <h1>ðŸ¤¨ Are you sure?</h1>
  <p>This decision feelsâ€¦ unstable.</p>
  <button class="neutral" onclick="goTo(1)">No, not really ðŸ˜…</button>
  <button class="neutral" onclick="goTo(4)">Let fate decide ðŸŽ²</button>
</div>

<!-- PAGE 4 (WHEEL) -->
<div id="page4" class="page">
  <h1>ðŸ’˜ Will you be my Valentine?</h1>
  <p>Let fate decide.</p>

  <div class="wheel-container">
    <div class="pointer">â–¼</div>
    <div id="wheel" class="wheel"></div>
  </div>

  <button id="spinBtn" class="yes" onclick="startExperience(); spin()">SPIN ðŸŒ€</button>


  <div id="result" class="result">
    ðŸ’š Fate has spoken. Youâ€™re my Valentine.
    
  </div>
</div>

<script>
  function goTo(page) {
    document.querySelectorAll(".page").forEach(p =>
      p.classList.remove("active")
    );
    document.getElementById("page" + page).classList.add("active");
  }

function spin() {
  const wheel = document.getElementById("wheel");
  const btn = document.getElementById("spinBtn");
  const result = document.getElementById("result");

  const spinSound = document.getElementById("spinSound");
  const winSound = document.getElementById("winSound");

  btn.disabled = true;
  result.style.display = "none";

  // Reset & play spinning sound
  spinSound.currentTime = 0;
  spinSound.loop = true;
  spinSound.play();

  const fullSpins = 12 * 360;
  const greenCenter = 324;
  const fakeRandom = Math.random() * 10 - 5;
  const finalRotation = fullSpins - greenCenter + fakeRandom;

  wheel.style.transform = `rotate(${finalRotation}deg)`;

  setTimeout(() => {
    spinSound.pause();
    spinSound.currentTime = 0;

    if (winSound) {
      winSound.currentTime = 0;
      winSound.play();
    }

    result.style.display = "block";
  }, 6900); // MUSS zur CSS-Dauer passen
}


let bgStarted = false;

function startExperience() {
  if (bgStarted) return;
  bgStarted = true;

  const bg = document.getElementById("bgMusic");
  bg.volume = 0.2; // testweise etwas lauter
  bg.play().catch(e => console.log("BG blocked:", e));

  const overlay = document.getElementById("startOverlay");
  if (overlay) overlay.style.display = "none";
}



function yesEffect(button) {
  const yes = document.getElementById("yesSound");
  if (!yes) return;

  yes.load();
  yes.currentTime = 0;
  yes.volume = 0.7;
  yes.play();

  // Glow
  button.classList.add("flash");
  setTimeout(() => button.classList.remove("flash"), 800);

  // Text
  const text = document.getElementById("excellentText");
  if (text) text.classList.add("show");
}


  
  
function showExcellent() {
  const text = document.getElementById("excellentText");
  if (!text) return;

  text.classList.add("show");

  // optional: nach ein paar Sekunden wieder ausblenden
  setTimeout(() => {
    text.classList.remove("show");
  }, 2000);
}

</script>

</body>
</html>


















